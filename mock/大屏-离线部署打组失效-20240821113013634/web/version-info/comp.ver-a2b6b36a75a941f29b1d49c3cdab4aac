{"avatar":"https://avatar.uino.cn/aBxyD0x8VbiUn1IbE0PAHjnVbdct8PFh?s=150","category":"echarts","code":"import lodashminjs from 'lib/lodash.min'\nimport { getAxisConfig, getTooltipConfig, getLegendConfig, getLabelConfig, runExpression, transfromColorOfEcharts, transfromColorsOfEcharts } from 'util/util'\nimport echarts from \"lib/echarts\"\n\n/**\n* 该组件必须返回一个构造函数对象（此处代码无效\n*/\nreturn class item extends Base {\n  constructor(dom, config) {\n    super(dom, config);\n    this.padding = [0, 0, 0, 0]\n    this.theme = {\n      \"seriesColor\": [\n        {\n          \"type\": \"flat\",\n          \"value\": \"#2362E4\"\n        },\n        {\n          \"type\": \"flat\",\n          \"value\": \"#2782E7\"\n        }\n      ],\n      \"backgroundColor\": {\n        \"show\": false,\n        \"type\": \"image\",\n        \"fillType\": \"auto\",\n        \"url\": \"/s-static/img/393e55483f0c40e5be15a4b68992af64.png\"\n      },\n      \"color\": {\n        \"show\": true,\n        \"value\": \"#FFFFFF\"\n      },\n      \"minorColor\": {\n        \"show\": true,\n        \"value\": \"#FFFFFF\"\n      },\n      \"gridColor\": {\n        \"show\": true,\n        \"value\": \"#FFFFFF\"\n      },\n      \"name\": \"官方色卡1\"\n    }\n    // 图表的配置参数，可右键通过Generate Opts生成\n    this.config = {\n      \"menu\": {\n        \"chart\": {\n          \"barCfg\": {\n            \"list\": [\n              {\n                \"seriesType\": \"bar\",\n                \"barWidth\": 20,\n                \"barGap\": 30,\n                \"barRadius\": {\n                  \"radiusType\": \"all\",\n                  \"allRadius\": 0,\n                  \"ltRadius\": 0,\n                  \"rtRadius\": 0,\n                  \"rbRadius\": 0,\n                  \"lbRadius\": 0\n                },\n                \"barBgColor\": {\n                  \"type\": \"flat\",\n                  \"value\": \"#ffffff00\"\n                },\n                \"barStroke\": {\n                  \"color\": \"#0b71e6\",\n                  \"width\": 0,\n                  \"style\": \"solid\"\n                },\n                \"barShadow\": {\n                  \"color\": \"#0b71e6\",\n                  \"x\": 0,\n                  \"y\": 0,\n                  \"blur\": 0\n                },\n                \"lineStroke\": {\n                  \"width\": 2,\n                  \"style\": \"solid\"\n                },\n                \"smooth\": false,\n                \"smoothNumber\": 0.5,\n                \"lineShadow\": {\n                  \"color\": \"#0b71e600\",\n                  \"x\": 0,\n                  \"y\": 0,\n                  \"blur\": 0\n                },\n                \"lineSwitch\": false,\n                \"opacity\": 0.3,\n                \"symbol\": false\n              },\n              {\n                \"seriesType\": \"line\",\n                \"barWidth\": 20,\n                \"barGap\": 30,\n                \"barRadius\": 0,\n                \"barBgColor\": {\n                  \"type\": \"flat\",\n                  \"value\": \"#ffffff00\"\n                },\n                \"barStroke\": {\n                  \"color\": \"#0b71e6\",\n                  \"width\": 0,\n                  \"style\": \"solid\"\n                },\n                \"barShadow\": {\n                  \"color\": \"#0b71e6\",\n                  \"x\": 0,\n                  \"y\": 0,\n                  \"blur\": 0\n                },\n                \"lineStroke\": {\n                  \"width\": 2,\n                  \"style\": \"solid\"\n                },\n                \"smooth\": false,\n                \"smoothNumber\": 0.5,\n                \"lineShadow\": {\n                  \"color\": \"#0b71e600\",\n                  \"x\": 0,\n                  \"y\": 0,\n                  \"blur\": 0\n                },\n                \"lineSwitch\": false,\n                \"opacity\": 0.3,\n                \"symbol\": true\n              }\n            ]\n          },\n          \"dataTips\": {\n            \"show\": false,\n            \"font\": {\n              \"fontFamily\": \"simSun\",\n              \"fontWeight\": 400,\n              \"color\": \"#FFFFFFB3\",\n              \"fontSize\": 12\n            },\n            \"site\": \"top\"\n          }\n        },\n        \"title\": {\n          \"title\": {\n            \"show\": false,\n            \"padding\": {\n              \"top\": 0,\n              \"left\": 0,\n              \"bottom\": 0,\n              \"right\": 0\n            },\n            \"text\": \"这是标题\",\n            \"font\": {\n              \"fontFamily\": \"simSun\",\n              \"fontWeight\": 400,\n              \"color\": \"#ffffff\",\n              \"fontSize\": 16\n            },\n            \"site\": \"left\"\n          },\n          \"subTitle\": {\n            \"show\": false,\n            \"padding\": {\n              \"top\": 0,\n              \"left\": 0,\n              \"bottom\": 0,\n              \"right\": 0\n            },\n            \"text\": \"这是副标题\",\n            \"font\": {\n              \"fontFamily\": \"simSun\",\n              \"fontWeight\": 400,\n              \"color\": \"#ffffff\",\n              \"fontSize\": 12\n            },\n            \"site\": \"left\"\n          }\n        },\n        \"legend\": {\n          \"legend\": {\n            \"show\": false,\n            \"font\": {\n              \"fontFamily\": \"simSun\",\n              \"fontWeight\": 400,\n              \"color\": \"#ffffff\",\n              \"fontSize\": 12\n            },\n            \"site\": \"horizontal-center-top\",\n            \"marker\": {\n              \"shape\": \"roundRect\",\n              \"size\": 14\n            },\n            \"markerSpace\": {\n              \"spacing\": 10\n            }\n          }\n        },\n        \"axis\": {\n          \"xaxis\": {\n            \"label\": {\n              \"show\": true,\n              \"textarea\": {\n                \"fontFamily\": \"Microsoft Yahei\",\n                \"fontWeight\": \"normal\",\n                \"fontSize\": 12,\n                \"color\": \"#FFFFFFB3\"\n              },\n              \"titleBgColor\": {\n                \"type\": \"flat\",\n                \"value\": \"#ffffff00\"\n              },\n              \"padding\": {\n                \"paddingX\": 0,\n                \"paddingY\": 0\n              },\n              \"customTickCount\": {\n                \"show\": false,\n                \"tickCount\": 5\n              }\n            },\n            \"axisLine\": {\n              \"show\": true,\n              \"lineStyle\": {\n                \"color\": \"#FFFFFF4D\",\n                \"width\": 1,\n                \"style\": \"solid\"\n              }\n            },\n            \"tickLine\": {\n              \"show\": false,\n              \"lineStyle\": {\n                \"color\": \"#FFFFFF4D\",\n                \"width\": 1,\n                \"style\": \"solid\"\n              },\n              \"length\": 5\n            },\n            \"splitLine\": {\n              \"show\": false,\n              \"lineStyle\": {\n                \"color\": \"#FFFFFF1A\",\n                \"width\": 1,\n                \"style\": \"solid\"\n              }\n            }\n          },\n          \"yaxis\": {\n            \"label\": {\n              \"show\": true,\n              \"textarea\": {\n                \"fontFamily\": \"Microsoft Yahei\",\n                \"fontWeight\": \"normal\",\n                \"fontSize\": 12,\n                \"color\": \"#FFFFFFB3\"\n              },\n              \"titleBgColor\": {\n                \"type\": \"flat\",\n                \"value\": \"#ffffff00\"\n              },\n              \"padding\": {\n                \"paddingX\": 0,\n                \"paddingY\": 0\n              },\n              \"customTickCount\": {\n                \"show\": false,\n                \"tickCount\": 5\n              }\n            },\n            \"axisLine\": {\n              \"show\": true,\n              \"lineStyle\": {\n                \"color\": \"#FFFFFF4D\",\n                \"width\": 1,\n                \"style\": \"solid\"\n              }\n            },\n            \"tickLine\": {\n              \"show\": false,\n              \"lineStyle\": {\n                \"color\": \"#FFFFFF4D\",\n                \"width\": 1,\n                \"style\": \"solid\"\n              },\n              \"length\": 5\n            },\n            \"splitLine\": {\n              \"show\": true,\n              \"lineStyle\": {\n                \"color\": \"#FFFFFF1A\",\n                \"width\": 1,\n                \"style\": \"solid\"\n              }\n            }\n          }\n        },\n        \"tooltip\": {\n          \"textStyle\": {\n            \"fontFamily\": \"simSun\",\n            \"fontWeight\": 400,\n            \"color\": \"#FFFFFFB3\",\n            \"fontSize\": 12\n          },\n          \"padding\": {\n            \"paddingX\": 10,\n            \"paddingY\": 10\n          },\n          \"borderColor\": \"rgba(0, 0, 0, 0.65)\",\n          \"backgroundColor\": \"rgba(0, 0, 0, 0.65)\"\n        },\n        \"expression\": {\n          \"list\": [\n            {\n              \"color\": {\n                \"type\": \"flat\",\n                \"value\": \"#02C37A\"\n              },\n              \"condition\": {\n                \"enabled\": true,\n                \"operator\": \"OR\",\n                \"expressions\": [\n                  {\n                    \"operator\": \"AND\",\n                    \"expressions\": [\n                      [\n                        \"s\",\n                        \"eq\",\n                        \"系列二\"\n                      ]\n                    ]\n                  }\n                ]\n              }\n            }\n          ]\n        },\n        \"advance\": {\n          \"code\": \"\"\n        }\n      }\n    }\n    // 组件初始化的数据\n    this.data = [\n      {\n        \"x\": \"1月\",\n        \"y\": 60,\n        \"s\": \"系列一\",\n        \"colorField\": 100\n      },\n      {\n        \"x\": \"2月\",\n        \"y\": 40,\n        \"s\": \"系列一\"\n      },\n      {\n        \"x\": \"3月\",\n        \"y\": 24,\n        \"s\": \"系列一\"\n      },\n      {\n        \"x\": \"4月\",\n        \"y\": 48,\n        \"s\": \"系列一\"\n      },\n      {\n        \"x\": \"5月\",\n        \"y\": 49,\n        \"s\": \"系列一\",\n        \"colorField\": 200\n      },\n      {\n        \"x\": \"6月\",\n        \"y\": 58,\n        \"s\": \"系列一\",\n        \"colorField\": 200\n      },\n      {\n        \"x\": \"1月\",\n        \"y\": 40,\n        \"s\": \"系列二\",\n        \"colorField\": 100\n      },\n      {\n        \"x\": \"2月\",\n        \"y\": 35,\n        \"s\": \"系列二\"\n      },\n      {\n        \"x\": \"3月\",\n        \"y\": 10,\n        \"s\": \"系列二\"\n      },\n      {\n        \"x\": \"4月\",\n        \"y\": 24,\n        \"s\": \"系列二\"\n      },\n      {\n        \"x\": \"5月\",\n        \"y\": 33,\n        \"s\": \"系列二\",\n        \"colorField\": 200\n      },\n      {\n        \"x\": \"6月\",\n        \"y\": 38,\n        \"s\": \"系列二\",\n        \"colorField\": 200\n      }\n    ];\n\n    this.type = 'echarts';\n  }\n\n  resize() {\n    if (!this.parentDom.offsetParent) return\n    super.resize()\n  }\n\n  /**\n   * @desc 处理数据，在setData里调用\n   */\n  processData() {\n    // 获取组件数据\n    const { data } = this\n\n    const seriesCfgList = this.config?.menu?.chart?.barCfg?.list\n\n    // 图表系列\n    const seriesArr = Array.from(new Set(data.map(d => d.s)))\n    // 类目轴数据\n    const xData = Array.from(new Set(data.map(d => d.x)))\n    // 每个系列的数据，会被翻译成{value: xxx}\n    const yDataArr = []\n\n    seriesArr.forEach((seriesName, index) => {\n      // 系列类型，从配置文件中获取，用于判断如何处理该系列的数据\n      const type = seriesCfgList[index] && seriesCfgList[index].seriesType\n      const row = data.filter(d => d.s === seriesName)\n      let rowDataArr = []\n\n      // 处理柱状图数据\n      if (type === 'bar') {\n        rowDataArr = row.map(i => {\n          // 调用条件构建器对数据的阈值样式进行构建\n          const dataStyle = this.processExpression(i)\n          if (dataStyle) {\n            return { value: i.y, itemStyle: dataStyle, rawData: i }\n          }\n          return { value: i.y, rawData: i }\n        })\n        yDataArr.push({ name: seriesName, data: rowDataArr })\n      }\n\n      if (type === 'line') {\n        let lineStyle = {}\n        rowDataArr = row.map(i => {\n          const dataStyle = this.processExpression(i)\n          if (dataStyle) {\n            lineStyle = dataStyle\n          }\n          return { value: i.y, rawData: i }\n        })\n        yDataArr.push({ name: seriesName, data: rowDataArr, lineStyle })\n      }\n    })\n\n    return { seriesArr, xData, yDataArr }\n  }\n\n  setData(data) {\n    this.data = data\n\n    // 数据发生变化时触发dataChange事件，对外(大屏等外部调用者)进行通知\n    this.trigger('dataChange', data)\n\n    this.render()\n  }\n\n  /**\n   * @desc 处理条件构建器的列表\n   */\n  processExpression(data) {\n    // 获取图表的配置项数据\n    const { config } = this\n\n    // 获取图表的条件列表\n    const expressionList = config?.menu?.expression?.list\n\n    // 数据项样式，会根据条件计算结果进行赋值\n    let dataStyle = null\n\n    // 循环条件列表里的每一组条件，和该组数据进行对比，符合条件的将被设置itemStyle\n    if (expressionList) {\n      for (let i = 0; i < expressionList.length; i++) {\n        const item = expressionList[i]\n        const bool = runExpression(item.condition, data)\n\n        const colorBar = {\n          flat: item.color.value,\n          linearGradient: transfromColorOfEcharts(item.color)\n        }\n        if (bool) {\n          dataStyle = {\n            color: colorBar[item.color.type]\n          }\n        }\n      }\n    }\n\n    return dataStyle\n  }\n\n  /**\n   * @desc 处理系列数据，并生成每个series的数据，包含样式\n   */\n  processSeries(d) {\n    let optsList = []\n\n    // 获取属性面板配置初始化数据\n    const { menu } = this.config\n\n    // 获取图表配置数据\n    const chartConfigList = menu?.chart?.barCfg?.list\n\n    chartConfigList.forEach((item, index) => {\n      const type = item.seriesType\n\n      // 处理柱状图样式\n      if (type === 'bar') {\n        // 柱子宽度\n        const barWidth = item.barWidth\n        // 柱子间距\n        const barGap = item.barGap\n\n        // 柱子圆角\n        const barRadiusCfg = item.barRadius\n\n        // 处理柱子圆角\n        let borderRadius = null\n        if (barRadiusCfg.radiusType === 'all') {\n          borderRadius = barRadiusCfg.allRadius\n        }\n        if (barRadiusCfg.radiusType === 'alone') {\n          borderRadius = [barRadiusCfg.ltRadius, barRadiusCfg.rtRadius, barRadiusCfg.rbRadius, barRadiusCfg.lbRadius]\n        }\n\n        // 处理柱子背景\n        let barBgColor = null\n        let showBackground = false\n        if (item.barBgColor.type === 'flat') {\n          barBgColor = item.barBgColor.value\n          if (barBgColor.length === 9 && barBgColor.substr(7) !== '00') {\n            showBackground = true\n          }\n          if (barBgColor.length <= 7) {\n            showBackground = true\n          }\n        } else {\n          barBgColor = transfromColorOfEcharts(item.barBgColor)\n          showBackground = true\n        }\n\n        // 处理柱子描边\n        let borderOpts = {}\n        let barStrokeCfg = item.barStroke\n        const borderColor = barStrokeCfg.color\n        const borderWidth = barStrokeCfg.width\n        const borderType = barStrokeCfg.style\n        if ((borderColor.length === 9 && borderColor.substr(7) !== '00') || borderColor.length <= 7) {\n          borderOpts = { borderColor, borderWidth, borderType }\n        }\n\n        // 处理柱子阴影\n        let barShadowCfg = item.barShadow\n        let barShadowOpts = {}\n        const shadowColor = barShadowCfg.color\n        const shadowBlur = barShadowCfg.blur\n        const shadowOffsetX = barShadowCfg.x\n        const shadowOffsetY = barShadowCfg.y\n        if ((shadowColor.length === 9 && shadowColor.substr(7) !== '00') || shadowColor.length <= 7) {\n          barShadowOpts = { shadowColor, shadowBlur, shadowOffsetX, shadowOffsetY }\n        }\n\n        optsList.push({\n          type: 'bar',\n          barCategoryGap: ((100 - barWidth) + '%') || '20%',\n          barGap: (barGap + '%') || '20%',\n          showBackground: showBackground,\n          backgroundStyle: {\n            color: barBgColor\n          },\n          itemStyle: {\n            borderRadius: borderRadius,\n            ...borderOpts,\n            ...barShadowOpts\n          },\n        })\n      }\n\n      // 处理线面图样式\n      if (type === 'line') {\n        // 处理描边\n        let borderOpts = {}\n        let lineStrokeCfg = item.lineStroke\n        const width = lineStrokeCfg.width\n        const type = lineStrokeCfg.style\n        borderOpts = { width, type }\n\n        // 平滑\n        let smooth = item.smooth\n        smooth && (smooth = item.smoothNumber)\n\n        // 处理阴影\n        let shadowCfg = item.lineShadow\n        let shadowOpts = {}\n        const shadowColor = shadowCfg.color\n        const shadowBlur = shadowCfg.blur\n        const shadowOffsetX = shadowCfg.x\n        const shadowOffsetY = shadowCfg.y\n        if ((shadowColor.length === 9 && shadowColor.substr(7) !== '00') || shadowColor.length <= 7) {\n          shadowOpts = { shadowColor, shadowBlur, shadowOffsetX, shadowOffsetY }\n        }\n\n        // 显示面积item.lineSwitch\n        const areaStyle = item.lineSwitch ? {\n          areaStyle: {\n            opacity: item.opacity\n          }\n        } : {}\n\n        // 显示端点\n        const symbol = item.symbol ? {} : { symbolSize: 0.01 }\n\n        optsList.push({\n          type: 'line',\n          smooth,\n          lineStyle: {\n            ...borderOpts,\n            ...shadowOpts\n          },\n          ...areaStyle,\n          ...symbol\n        })\n      }\n    })\n\n    // 处理数据标签的label\n    const label = getLabelConfig(menu?.chart?.dataTips)\n\n    // 生成系列柱子和线条（包含面积）\n    const series = []\n    const datas = d.yDataArr\n    datas.forEach((data, index) => {\n      const opts = optsList[index]\n      const item = {\n        name: data.name,\n        data: data.data,\n        ...opts,\n        label\n      }\n      if (opts.type === 'line') {\n        item.lineStyle = { ...item.lineStyle, ...data.lineStyle }\n        item.itemStyle = { ...item.itemStyle, ...data.lineStyle }\n      }\n      series.push(item)\n    })\n    return series\n  }\n\n  /**\n  * 组装echarts的option\n  * return 返回echarts的option\n  */\n  transformOptions() {\n    const { config } = this\n    // 处理数据\n    const data = this.processData()\n\n    // 处理坐标轴\n    const { xAxis, yAxis } = getAxisConfig(config?.menu?.axis, data)\n\n    const legend = getLegendConfig(config?.menu?.legend?.legend)\n    const tooltip = getTooltipConfig(config?.menu?.tooltip)\n\n    let gridTop = 10\n    if (legend && legend.top === 'top') {\n      gridTop = 30\n    }\n    let gridBottom = 10\n    if (legend && legend.top === 'bottom') {\n      gridBottom = 20\n    }\n\n    // 处理系列数据\n    const series = this.processSeries(data)\n\n    let opts = {\n      color: this.theme.seriesColor.map(item => transfromColorsOfEcharts(item)),\n      grid: {\n        containLabel: true,\n        left: '10',\n        top: gridTop,\n        right: '10',\n        bottom: gridBottom\n      },\n      tooltip: {\n        show: true,\n        trigger: \"axis\",\n        axisPointer: {\n          type: \"none\"\n        },\n        ...tooltip\n      },\n      legend: legend,\n      xAxis: xAxis,\n      yAxis: yAxis,\n      series: series\n\n    }\n\n    // 处理自定义样式\n    const advance = _.cloneDeep(config?.menu?.advance?.code)\n    if (advance) {\n      try {\n        // opts做一次cloneDeep是为了合并后污染源配置opts的值，造成属性面板回写污染\n        advance.title && (advance.title = null)\n        opts = _.merge(_.cloneDeep(opts), advance)\n      }\n      catch (e) {\n      }\n    }\n\n    return opts\n  }\n\n  mounted() {\n    // echarts图表挂载后，为系列挂载点击事件，用于触发图表的click事件\n    const ecInstance = this.instance\n\n    ecInstance.off('click')\n    ecInstance.getZr().on('click', (e) => { !e.target?.culling && this.trigger('click') })\n    ecInstance.on('click', 'series', (e) => { this.trigger('click', e?.data?.rawData) })\n  }\n};","config":"{\"fonts\":{},\"script\":{\"lodashminjs\":\"/lib/lodash.min.js\",\"echarts\":\"/lib/echarts.js\"},\"util\":[\"getAxisConfig\",\"getTooltipConfig\",\"getLegendConfig\",\"getLabelConfig\",\"runExpression\",\"transfromColorOfEcharts\",\"transfromColorsOfEcharts\"],\"img\":{},\"theme\":\"{\\n\\t\\\"seriesColor\\\": [\\n\\t\\t{\\n\\t\\t\\t\\\"type\\\": \\\"flat\\\",\\n\\t\\t\\t\\\"value\\\": \\\"#2362E4\\\"\\n\\t\\t},\\n\\t\\t{\\n\\t\\t\\t\\\"type\\\": \\\"flat\\\",\\n\\t\\t\\t\\\"value\\\": \\\"#2782E7\\\"\\n\\t\\t}\\n\\t],\\n\\t\\\"backgroundColor\\\": {\\n\\t\\t\\\"show\\\": false,\\n\\t\\t\\\"type\\\": \\\"image\\\",\\n\\t\\t\\\"fillType\\\": \\\"auto\\\",\\n\\t\\t\\\"url\\\": \\\"/s-static/img/393e55483f0c40e5be15a4b68992af64.png\\\"\\n\\t},\\n\\t\\\"color\\\": {\\n\\t\\t\\\"show\\\": true,\\n\\t\\t\\\"value\\\": \\\"#FFFFFF\\\"\\n\\t},\\n\\t\\\"minorColor\\\": {\\n\\t\\t\\\"show\\\": true,\\n\\t\\t\\\"value\\\": \\\"#FFFFFF\\\"\\n\\t},\\n\\t\\\"gridColor\\\": {\\n\\t\\t\\\"show\\\": true,\\n\\t\\t\\\"value\\\": \\\"#FFFFFF\\\"\\n\\t},\\n\\t\\\"name\\\": \\\"官方色卡1\\\"\\n}\",\"css\":{},\"width\":400,\"height\":250,\"material\":[\"img/393e55483f0c40e5be15a4b68992af64.png\"]}","createTime":1707124651350,"id":"a2b6b36a75a941f29b1d49c3cdab4aac","languageType":"jsx","modifyTime":1707124651358,"name":"基础折线柱状图-万用图","options":"{\n  \"actions\": [\n    {\n      \"label\": \"点击\",\n      \"identified\": \"click\"\n    },\n    {\n      \"label\": \"当数据发生变化时\",\n      \"identified\": \"dataChange\"\n    }\n  ],\n  \"fields\": [\n    {\n      \"name\": \"x\",\n      \"desc\": \"x轴(类目)数据\"\n    },\n    {\n      \"name\": \"y\",\n      \"desc\": \"y轴(数值)数据\"\n    },\n    {\n      \"name\": \"s\",\n      \"desc\": \"系列名称\"\n    },\n    {\n      \"name\": \"colorFields\",\n      \"desc\": \"颜色字段\"\n    }\n  ],\n  \"propertyPanel\": {\n    \"menu\": {\n      \"type\": \"menu\",\n      \"children\": {\n        \"chart\": {\n          \"name\": \"图表\",\n          \"mode\": \"single\",\n          \"children\": {\n            \"barCfg\": {\n              \"name\": \"图表设置\",\n              \"type\": \"group\",\n              \"fold\": false,\n              \"children\": {\n                \"list\": {\n                  \"name\": \"系列样式\",\n                  \"type\": \"tabs\",\n                  \"fold\": false,\n                  \"template\": {\n                    \"name\": \"系列<%= i + 1 %>\",\n                    \"type\": \"object\",\n                    \"children\": {\n                      \"seriesType\": {\n                        \"name\": \"类型\",\n                        \"type\": \"radio\",\n                        \"mode\": \"button\",\n                        \"optionCol\": 12,\n                        \"options\": [\n                          {\n                            \"label\": \"柱状图\",\n                            \"value\": \"bar\"\n                          },\n                          {\n                            \"label\": \"线面图\",\n                            \"value\": \"line\"\n                          }\n                        ],\n                        \"default\": \"bar\"\n                      },\n                      \"barWidth\": {\n                        \"name\": \"宽度\",\n                        \"type\": \"slider\",\n                        \"showInput\": true,\n                        \"min\": 1,\n                        \"max\": 100,\n                        \"step\": 1,\n                        \"default\": 20,\n                        \"showInPanel\": [\n                          [\n                            \".seriesType\",\n                            \"$eq\",\n                            \"bar\"\n                          ]\n                        ]\n                      },\n                      \"barGap\": {\n                        \"name\": \"间距\",\n                        \"description\": \"不同系列的柱间距离\",\n                        \"type\": \"slider\",\n                        \"showInput\": true,\n                        \"min\": 0,\n                        \"max\": 100,\n                        \"step\": 1,\n                        \"default\": 30,\n                        \"showInPanel\": [\n                          [\n                            \".seriesType\",\n                            \"$eq\",\n                            \"bar\"\n                          ]\n                        ]\n                      },\n                      \"barRadius\": {\n                        \"name\": \"圆角\",\n                        \"type\": \"suite\",\n                        \"children\": {\n                          \"radiusType\": {\n                            \"name\": \"\",\n                            \"type\": \"radio\",\n                            \"options\": [\n                              {\n                                \"label\": \"全圆角\",\n                                \"value\": \"all\"\n                              },\n                              {\n                                \"label\": \"独立圆角\",\n                                \"value\": \"alone\"\n                              }\n                            ],\n                            \"default\": \"all\"\n                          },\n                          \"allRadius\": {\n                            \"type\": \"number\",\n                            \"name\": \"\",\n                            \"step\": 1,\n                            \"min\": 0,\n                            \"default\": 0,\n                            \"col\": 12,\n                            \"showInPanel\": {\n                              \"conditions\": [\n                                [\n                                  \".radiusType\",\n                                  \"$eq\",\n                                  \"all\"\n                                ]\n                              ]\n                            }\n                          },\n                          \"ltRadius\": {\n                            \"type\": \"number\",\n                            \"name\": \"左上\",\n                            \"step\": 1,\n                            \"min\": 0,\n                            \"default\": 0,\n                            \"col\": 6,\n                            \"showInPanel\": {\n                              \"conditions\": [\n                                [\n                                  \".radiusType\",\n                                  \"$eq\",\n                                  \"alone\"\n                                ]\n                              ]\n                            }\n                          },\n                          \"rtRadius\": {\n                            \"type\": \"number\",\n                            \"name\": \"右上\",\n                            \"step\": 1,\n                            \"min\": 0,\n                            \"default\": 0,\n                            \"col\": 6,\n                            \"showInPanel\": {\n                              \"conditions\": [\n                                [\n                                  \".radiusType\",\n                                  \"$eq\",\n                                  \"alone\"\n                                ]\n                              ]\n                            }\n                          },\n                          \"rbRadius\": {\n                            \"type\": \"number\",\n                            \"name\": \"右下\",\n                            \"step\": 1,\n                            \"min\": 0,\n                            \"default\": 0,\n                            \"col\": 6,\n                            \"showInPanel\": {\n                              \"conditions\": [\n                                [\n                                  \".radiusType\",\n                                  \"$eq\",\n                                  \"alone\"\n                                ]\n                              ]\n                            }\n                          },\n                          \"lbRadius\": {\n                            \"type\": \"number\",\n                            \"name\": \"左下\",\n                            \"step\": 1,\n                            \"min\": 0,\n                            \"default\": 0,\n                            \"col\": 6,\n                            \"showInPanel\": {\n                              \"conditions\": [\n                                [\n                                  \".radiusType\",\n                                  \"$eq\",\n                                  \"alone\"\n                                ]\n                              ]\n                            }\n                          }\n                        },\n                        \"showInPanel\": [\n                          [\n                            \".seriesType\",\n                            \"$eq\",\n                            \"bar\"\n                          ]\n                        ]\n                      },\n                      \"barBgColor\": {\n                        \"name\": \"背景\",\n                        \"description\": \"柱子类目背景\",\n                        \"type\": \"color\",\n                        \"components\": [\n                          \"flat\",\n                          \"linearGradient\"\n                        ],\n                        \"default\": {\n                          \"type\": \"flat\",\n                          \"value\": \"#ffffff00\"\n                        },\n                        \"showInPanel\": [\n                          [\n                            \".seriesType\",\n                            \"$eq\",\n                            \"bar\"\n                          ]\n                        ]\n                      },\n                      \"barStroke\": {\n                        \"type\": \"stroke\",\n                        \"name\": \"描边\",\n                        \"default\": {\n                          \"color\": \"#0b71e6\",\n                          \"width\": 0,\n                          \"style\": \"solid\"\n                        },\n                        \"showInPanel\": [\n                          [\n                            \".seriesType\",\n                            \"$eq\",\n                            \"bar\"\n                          ]\n                        ]\n                      },\n                      \"barShadow\": {\n                        \"type\": \"shadow\",\n                        \"name\": \"阴影\",\n                        \"default\": {\n                          \"color\": \"#0b71e6\",\n                          \"x\": 0,\n                          \"y\": 0,\n                          \"blur\": 0\n                        },\n                        \"showInPanel\": [\n                          [\n                            \".seriesType\",\n                            \"$eq\",\n                            \"bar\"\n                          ]\n                        ]\n                      },\n                      \"lineStroke\": {\n                        \"type\": \"stroke\",\n                        \"name\": \"描边\",\n                        \"components\": [\n                          \"width\",\n                          \"style\"\n                        ],\n                        \"default\": {\n                          \"width\": 2,\n                          \"style\": \"solid\"\n                        },\n                        \"showInPanel\": [\n                          [\n                            \".seriesType\",\n                            \"$eq\",\n                            \"line\"\n                          ]\n                        ]\n                      },\n                      \"smooth\": {\n                        \"type\": \"switch\",\n                        \"name\": \"平滑\",\n                        \"default\": false,\n                        \"showInPanel\": [\n                          [\n                            \".seriesType\",\n                            \"$eq\",\n                            \"line\"\n                          ]\n                        ]\n                      },\n                      \"smoothNumber\": {\n                        \"type\": \"slider\",\n                        \"name\": \"平滑张力\",\n                        \"min\": 0,\n                        \"max\": 1,\n                        \"step\": 0.1,\n                        \"default\": 0.5,\n                        \"showInPanel\": [\n                          [\n                            \".smooth\",\n                            \"$eq\",\n                            true\n                          ]\n                        ]\n                      },\n                      \"lineShadow\": {\n                        \"type\": \"shadow\",\n                        \"name\": \"阴影\",\n                        \"default\": {\n                          \"color\": \"#0b71e600\",\n                          \"x\": 0,\n                          \"y\": 0,\n                          \"blur\": 0\n                        },\n                        \"showInPanel\": [\n                          [\n                            \".seriesType\",\n                            \"$eq\",\n                            \"line\"\n                          ]\n                        ]\n                      },\n                      \"lineSwitch\": {\n                        \"type\": \"switch\",\n                        \"name\": \"显示面积\",\n                        \"default\": false,\n                        \"showInPanel\": [\n                          [\n                            \".seriesType\",\n                            \"$eq\",\n                            \"line\"\n                          ]\n                        ]\n                      },\n                      \"opacity\": {\n                        \"type\": \"slider\",\n                        \"name\": \"透明\",\n                        \"min\": 0,\n                        \"max\": 1,\n                        \"step\": 0.1,\n                        \"default\": 0.3,\n                        \"showInPanel\": [\n                          [\n                            \".lineSwitch\",\n                            \"$eq\",\n                            true\n                          ]\n                        ]\n                      },\n                      \"symbol\": {\n                        \"type\": \"switch\",\n                        \"name\": \"显示端点\",\n                        \"default\": true,\n                        \"showInPanel\": [\n                          [\n                            \".seriesType\",\n                            \"$eq\",\n                            \"line\"\n                          ]\n                        ]\n                      }\n                    }\n                  },\n                  \"default\": [\n                    {\n                      \"seriesType\": \"bar\",\n                      \"barWidth\": 20,\n                      \"barGap\": 30,\n                      \"barRadius\": {\n                        \"radiusType\": \"all\",\n                        \"allRadius\": 0,\n                        \"ltRadius\": 0,\n                        \"rtRadius\": 0,\n                        \"rbRadius\": 0,\n                        \"lbRadius\": 0\n                      },\n                      \"barBgColor\": {\n                        \"type\": \"flat\",\n                        \"value\": \"#ffffff00\"\n                      },\n                      \"barStroke\": {\n                        \"color\": \"#0b71e6\",\n                        \"width\": 0,\n                        \"style\": \"solid\"\n                      },\n                      \"barShadow\": {\n                        \"color\": \"#0b71e6\",\n                        \"x\": 0,\n                        \"y\": 0,\n                        \"blur\": 0\n                      },\n                      \"lineStroke\": {\n                        \"width\": 2,\n                        \"style\": \"solid\"\n                      },\n                      \"smooth\": false,\n                      \"smoothNumber\": 0.5,\n                      \"lineShadow\": {\n                        \"color\": \"#0b71e600\",\n                        \"x\": 0,\n                        \"y\": 0,\n                        \"blur\": 0\n                      },\n                      \"lineSwitch\": false,\n                      \"opacity\": 0.3,\n                      \"symbol\": false\n                    },\n                    {\n                      \"seriesType\": \"line\",\n                      \"barWidth\": 20,\n                      \"barGap\": 30,\n                      \"barRadius\": 0,\n                      \"barBgColor\": {\n                        \"type\": \"flat\",\n                        \"value\": \"#ffffff00\"\n                      },\n                      \"barStroke\": {\n                        \"color\": \"#0b71e6\",\n                        \"width\": 0,\n                        \"style\": \"solid\"\n                      },\n                      \"barShadow\": {\n                        \"color\": \"#0b71e6\",\n                        \"x\": 0,\n                        \"y\": 0,\n                        \"blur\": 0\n                      },\n                      \"lineStroke\": {\n                        \"width\": 2,\n                        \"style\": \"solid\"\n                      },\n                      \"smooth\": false,\n                      \"smoothNumber\": 0.5,\n                      \"lineShadow\": {\n                        \"color\": \"#0b71e600\",\n                        \"x\": 0,\n                        \"y\": 0,\n                        \"blur\": 0\n                      },\n                      \"lineSwitch\": false,\n                      \"opacity\": 0.3,\n                      \"symbol\": true\n                    }\n                  ]\n                }\n              }\n            },\n            \"dataTips\": {\n              \"name\": \"显示数据\",\n              \"type\": \"group\",\n              \"enableHide\": true,\n              \"fold\": false,\n              \"children\": {\n                \"show\": {\n                  \"default\": false\n                },\n                \"font\": {\n                  \"name\": \"文本样式\",\n                  \"type\": \"font\",\n                  \"default\": {\n                    \"fontFamily\": \"simSun\",\n                    \"fontWeight\": 400,\n                    \"color\": \"#FFFFFFB3\",\n                    \"fontSize\": 12\n                  }\n                },\n                \"site\": {\n                  \"type\": \"select\",\n                  \"name\": \"对齐\",\n                  \"options\": [\n                    {\n                      \"label\": \"top\",\n                      \"value\": \"top\"\n                    },\n                    {\n                      \"label\": \"left\",\n                      \"value\": \"left\"\n                    },\n                    {\n                      \"label\": \"right\",\n                      \"value\": \"right\"\n                    },\n                    {\n                      \"label\": \"bottom\",\n                      \"value\": \"bottom\"\n                    },\n                    {\n                      \"label\": \"inside\",\n                      \"value\": \"inside\"\n                    },\n                    {\n                      \"label\": \"insideLeft\",\n                      \"value\": \"insideLeft\"\n                    },\n                    {\n                      \"label\": \"insideRight\",\n                      \"value\": \"insideRight\"\n                    },\n                    {\n                      \"label\": \"insideTop\",\n                      \"value\": \"insideTop\"\n                    },\n                    {\n                      \"label\": \"insideBottom\",\n                      \"value\": \"insideBottom\"\n                    },\n                    {\n                      \"label\": \"insideTopLeft\",\n                      \"value\": \"insideTopLeft\"\n                    },\n                    {\n                      \"label\": \"insideBottomLeft\",\n                      \"value\": \"insideBottomLeft\"\n                    },\n                    {\n                      \"label\": \"insideTopRight\",\n                      \"value\": \"insideTopRight\"\n                    },\n                    {\n                      \"label\": \"insideBottomRight\",\n                      \"value\": \"insideBottomRight\"\n                    }\n                  ],\n                  \"default\": \"top\"\n                }\n              }\n            }\n          }\n        },\n        \"title\": {\n          \"name\": \"标题\",\n          \"type\": \"title\"\n        },\n        \"legend\": {\n          \"name\": \"图例\",\n          \"type\": \"legend\"\n        },\n        \"axis\": {\n          \"name\": \"坐标轴\",\n          \"type\": \"axis\"\n        },\n        \"tooltip\": {\n          \"name\": \"提示框\",\n          \"type\": \"tooltip\"\n        },\n        \"expression\": {\n          \"name\": \"条件\",\n          \"mode\": \"single\",\n          \"children\": {\n            \"list\": {\n              \"name\": \"条件列表\",\n              \"type\": \"tabs\",\n              \"fold\": false,\n              \"template\": {\n                \"name\": \"条件<%= i + 1 %>\",\n                \"type\": \"object\",\n                \"children\": {\n                  \"condition\": {\n                    \"name\": \"启用\",\n                    \"type\": \"logicalTree\",\n                    \"default\": {\n                      \"enabled\": true,\n                      \"operator\": \"OR\",\n                      \"expressions\": [\n                        {\n                          \"operator\": \"AND\",\n                          \"expressions\": [\n                            [\n                              \"colorField\",\n                              \"eq\",\n                              \"100\"\n                            ]\n                          ]\n                        }\n                      ]\n                    }\n                  },\n                  \"color\": {\n                    \"name\": \"图形颜色\",\n                    \"type\": \"color\",\n                    \"components\": [\n                      \"flat\",\n                      \"linearGradient\"\n                    ],\n                    \"default\": {\n                      \"type\": \"flat\",\n                      \"value\": \"#2362E4\"\n                    }\n                  }\n                }\n              },\n              \"default\": [\n                {\n                  \"color\": {\n                    \"type\": \"flat\",\n                    \"value\": \"#02C37A\"\n                  },\n                  \"condition\": {\n                    \"enabled\": true,\n                    \"operator\": \"OR\",\n                    \"expressions\": [\n                      {\n                        \"operator\": \"AND\",\n                        \"expressions\": [\n                          [\n                            \"s\",\n                            \"eq\",\n                            \"系列二\"\n                          ]\n                        ]\n                      }\n                    ]\n                  }\n                }\n              ]\n            }\n          }\n        },\n        \"advance\": {\n          \"name\": \"自定义\",\n          \"mode\": \"single\",\n          \"children\": {\n            \"code\": {\n              \"name\": \"自定义\",\n              \"description\": \"直接写echarts option,书写规范：{\\\"key\\\": value}(echarts title不生效),自定义option优先级大于属性面板配置\",\n              \"type\": \"code\",\n              \"language\": \"json\",\n              \"default\": \"\"\n            }\n          }\n        }\n      }\n    }\n  }\n}","owner":"aBxyD0x8VbiUn1IbE0PAHjnVbdct8PFh","ownerName":"yutangli","reviser":"xjz3Uw8J7pA3u00buIM3Hc4v4E0JQ0tK","sType":2,"serial":10,"sid":"d94f0acaeada4abd8095171541299cd3","snapshot":"/s-static/snapshot/d94f0acaeada4abd8095171541299cd3_3.0.png","status":0,"style":"","tag":"模板","transparentSnapshot":"/s-static/transparent-snapshot/d94f0acaeada4abd8095171541299cd3_transparent_3.0.png","type":"Bar","version":4.0,"wiki":"https://support.thingjs.com/book/ChartBuilder/6304892bce783388ac5ecc79"}