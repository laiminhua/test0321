{"avatar":"https://avatar.uino.cn/aBxyD0x8VbiUn1IbE0PAHjnVbdct8PFh?s=150","category":"echarts","code":"import lodashminjs from 'lib/lodash.min'\r\nimport { runExpression, getTooltipConfig, getLegendConfig, getLabelConfig, getAxisConfig, transfromColorOfEcharts, transfromColorsOfEcharts } from 'util/util'\r\nimport echarts from \"lib/echarts\"\r\n\r\n/**\r\n* 该组件必须返回一个构造函数对象（此处代码无效\r\n*/\r\nreturn class item extends Base {\r\n  constructor(dom, config) {\r\n    super(dom, config);\r\n    // 图表的配置参数，可右键通过Generate Opts生成\r\n    this.padding = [0, 0, 0, 0]\r\n    this.theme = {\r\n      \"name\": \"主题1\",\r\n      \"seriesColor\": [\r\n        {\r\n          \"type\": \"linearGradient\",\r\n          \"value\": {\r\n            \"angle\": 90,\r\n            \"stops\": [\r\n              {\r\n                \"offset\": 0,\r\n                \"color\": \"#2362E44D\"\r\n              },\r\n              {\r\n                \"offset\": 100,\r\n                \"color\": \"#2362E4\"\r\n              },\r\n              {\r\n                \"offset\": 100,\r\n                \"color\": \"#2362E400\"\r\n              }\r\n            ]\r\n          }\r\n        },\r\n        {\r\n          \"type\": \"linearGradient\",\r\n          \"value\": {\r\n            \"angle\": 90,\r\n            \"stops\": [\r\n              {\r\n                \"offset\": 0,\r\n                \"color\": \"#2782E74D\"\r\n              },\r\n              {\r\n                \"offset\": 100,\r\n                \"color\": \"#2782E7\"\r\n              },\r\n              {\r\n                \"offset\": 100,\r\n                \"color\": \"#2782E700\"\r\n              }\r\n            ]\r\n          }\r\n        },\r\n        {\r\n          \"type\": \"linearGradient\",\r\n          \"value\": {\r\n            \"angle\": 90,\r\n            \"stops\": [\r\n              {\r\n                \"offset\": 0,\r\n                \"color\": \"#2AA1EB4D\"\r\n              },\r\n              {\r\n                \"offset\": 99,\r\n                \"color\": \"#2AA1EB\"\r\n              },\r\n              {\r\n                \"offset\": 99,\r\n                \"color\": \"#2AA1EB00\"\r\n              }\r\n            ]\r\n          }\r\n        },\r\n        {\r\n          \"type\": \"linearGradient\",\r\n          \"value\": {\r\n            \"angle\": 90,\r\n            \"stops\": [\r\n              {\r\n                \"offset\": 0,\r\n                \"color\": \"#2DC0EE4D\"\r\n              },\r\n              {\r\n                \"offset\": 100,\r\n                \"color\": \"#2DC0EE\"\r\n              },\r\n              {\r\n                \"offset\": 100,\r\n                \"color\": \"#2DC0EE00\"\r\n              }\r\n            ]\r\n          }\r\n        },\r\n        {\r\n          \"type\": \"linearGradient\",\r\n          \"value\": {\r\n            \"angle\": 90,\r\n            \"stops\": [\r\n              {\r\n                \"offset\": 0,\r\n                \"color\": \"#31E0F24D\"\r\n              },\r\n              {\r\n                \"offset\": 100,\r\n                \"color\": \"#31E0F2\"\r\n              },\r\n              {\r\n                \"offset\": 100,\r\n                \"color\": \"#31E0F200\"\r\n              }\r\n            ]\r\n          }\r\n        },\r\n        {\r\n          \"type\": \"linearGradient\",\r\n          \"value\": {\r\n            \"angle\": 90,\r\n            \"stops\": [\r\n              {\r\n                \"offset\": 0,\r\n                \"color\": \"#34FFF54D\"\r\n              },\r\n              {\r\n                \"offset\": 100,\r\n                \"color\": \"#34FFF5\"\r\n              },\r\n              {\r\n                \"offset\": 100,\r\n                \"color\": \"#34FFF500\"\r\n              }\r\n            ]\r\n          }\r\n        }\r\n      ],\r\n      \"backgroundColor\": {\r\n        \"show\": false,\r\n        \"type\": \"image\",\r\n        \"value\": {\r\n          \"fillType\": \"auto\",\r\n          \"url\": \"/s-static/img/9a46e68ae25740e4b61c133d3b537c35.png\"\r\n        }\r\n      },\r\n      \"color\": {\r\n        \"show\": true,\r\n        \"value\": \"#FFFFFF\"\r\n      },\r\n      \"minorColor\": {\r\n        \"show\": true,\r\n        \"value\": \"#FFFFFF\"\r\n      },\r\n      \"gridColor\": {\r\n        \"show\": true,\r\n        \"value\": \"#FFFFFF\"\r\n      }\r\n    }\r\n    this.config = {\r\n      \"menu\": {\r\n        \"chart\": {\r\n          \"barCfg\": {\r\n            \"barWidth\": 30,\r\n            \"barGap\": 30,\r\n            \"barRadius\": {\r\n              \"radiusType\": \"all\",\r\n              \"allRadius\": 50,\r\n              \"ltRadius\": 0,\r\n              \"rtRadius\": 0,\r\n              \"rbRadius\": 0,\r\n              \"lbRadius\": 0\r\n            },\r\n            \"barBgColor\": {\r\n              \"type\": \"flat\",\r\n              \"value\": \"#FFFFFF0F\"\r\n            },\r\n            \"barStroke\": {\r\n              \"color\": \"#0b71e600\",\r\n              \"width\": 0,\r\n              \"style\": \"solid\"\r\n            },\r\n            \"barShadow\": {\r\n              \"color\": \"#0b71e600\",\r\n              \"x\": 0,\r\n              \"y\": 0,\r\n              \"blur\": 0\r\n            }\r\n          },\r\n          \"dataTips\": {\r\n            \"show\": false,\r\n            \"font\": {\r\n              \"fontFamily\": \"simSun\",\r\n              \"fontWeight\": 400,\r\n              \"color\": \"#FFFFFFB3\",\r\n              \"fontSize\": 12\r\n            },\r\n            \"site\": \"top\"\r\n          }\r\n        },\r\n        \"title\": {\r\n          \"title\": {\r\n            \"show\": false,\r\n            \"padding\": {\r\n              \"top\": 0,\r\n              \"left\": 0,\r\n              \"bottom\": 0,\r\n              \"right\": 0\r\n            },\r\n            \"text\": \"这是标题\",\r\n            \"font\": {\r\n              \"fontFamily\": \"simSun\",\r\n              \"fontWeight\": 400,\r\n              \"color\": \"#ffffff\",\r\n              \"fontSize\": 16\r\n            },\r\n            \"site\": \"left\"\r\n          },\r\n          \"subTitle\": {\r\n            \"show\": false,\r\n            \"padding\": {\r\n              \"top\": 0,\r\n              \"left\": 0,\r\n              \"bottom\": 0,\r\n              \"right\": 0\r\n            },\r\n            \"text\": \"这是副标题\",\r\n            \"font\": {\r\n              \"fontFamily\": \"simSun\",\r\n              \"fontWeight\": 400,\r\n              \"color\": \"#ffffff\",\r\n              \"fontSize\": 12\r\n            },\r\n            \"site\": \"left\"\r\n          }\r\n        },\r\n        \"legend\": {\r\n          \"legend\": {\r\n            \"show\": false,\r\n            \"font\": {\r\n              \"fontFamily\": \"simSun\",\r\n              \"fontWeight\": 400,\r\n              \"color\": \"#ffffff\",\r\n              \"fontSize\": 12\r\n            },\r\n            \"site\": \"horizontal-center-top\",\r\n            \"marker\": {\r\n              \"shape\": \"roundRect\",\r\n              \"size\": 14\r\n            },\r\n            \"markerSpace\": {\r\n              \"spacing\": 10\r\n            }\r\n          }\r\n        },\r\n        \"axis\": {\r\n          \"xaxis\": {\r\n            \"label\": {\r\n              \"show\": true,\r\n              \"textarea\": {\r\n                \"fontFamily\": \"Microsoft Yahei\",\r\n                \"fontWeight\": \"normal\",\r\n                \"fontSize\": 12,\r\n                \"color\": \"#FFFFFFB3\"\r\n              },\r\n              \"titleBgColor\": {\r\n                \"type\": \"flat\",\r\n                \"value\": \"#ffffff00\"\r\n              },\r\n              \"padding\": {\r\n                \"paddingX\": 0,\r\n                \"paddingY\": 0\r\n              },\r\n              \"customTickCount\": {\r\n                \"show\": false,\r\n                \"tickCount\": 5\r\n              }\r\n            },\r\n            \"axisLine\": {\r\n              \"show\": true,\r\n              \"lineStyle\": {\r\n                \"color\": \"#FFFFFF4D\",\r\n                \"width\": 1,\r\n                \"style\": \"solid\"\r\n              }\r\n            },\r\n            \"tickLine\": {\r\n              \"show\": false,\r\n              \"lineStyle\": {\r\n                \"color\": \"#FFFFFF4D\",\r\n                \"width\": 1,\r\n                \"style\": \"solid\"\r\n              },\r\n              \"length\": 5\r\n            },\r\n            \"splitLine\": {\r\n              \"show\": false,\r\n              \"lineStyle\": {\r\n                \"color\": \"#FFFFFF1A\",\r\n                \"width\": 1,\r\n                \"style\": \"solid\"\r\n              }\r\n            }\r\n          },\r\n          \"yaxis\": {\r\n            \"label\": {\r\n              \"show\": true,\r\n              \"textarea\": {\r\n                \"fontFamily\": \"Microsoft Yahei\",\r\n                \"fontWeight\": \"normal\",\r\n                \"fontSize\": 12,\r\n                \"color\": \"#FFFFFFB3\"\r\n              },\r\n              \"titleBgColor\": {\r\n                \"type\": \"flat\",\r\n                \"value\": \"#ffffff00\"\r\n              },\r\n              \"padding\": {\r\n                \"paddingX\": 0,\r\n                \"paddingY\": 0\r\n              },\r\n              \"customTickCount\": {\r\n                \"show\": false,\r\n                \"tickCount\": 5\r\n              }\r\n            },\r\n            \"axisLine\": {\r\n              \"show\": true,\r\n              \"lineStyle\": {\r\n                \"color\": \"#FFFFFF4D\",\r\n                \"width\": 1,\r\n                \"style\": \"solid\"\r\n              }\r\n            },\r\n            \"tickLine\": {\r\n              \"show\": false,\r\n              \"lineStyle\": {\r\n                \"color\": \"#FFFFFF4D\",\r\n                \"width\": 1,\r\n                \"style\": \"solid\"\r\n              },\r\n              \"length\": 5\r\n            },\r\n            \"splitLine\": {\r\n              \"show\": true,\r\n              \"lineStyle\": {\r\n                \"color\": \"#FFFFFF1A\",\r\n                \"width\": 1,\r\n                \"style\": \"solid\"\r\n              }\r\n            }\r\n          }\r\n        },\r\n        \"tooltip\": {\r\n          \"textStyle\": {\r\n            \"fontFamily\": \"simSun\",\r\n            \"fontWeight\": 400,\r\n            \"color\": \"#FFFFFFB3\",\r\n            \"fontSize\": 12\r\n          },\r\n          \"padding\": {\r\n            \"paddingX\": 10,\r\n            \"paddingY\": 10\r\n          },\r\n          \"borderColor\": \"rgba(0, 0, 0, 0.65)\",\r\n          \"backgroundColor\": \"rgba(0, 0, 0, 0.65)\"\r\n        },\r\n        \"expression\": {\r\n          \"list\": [\r\n            {\r\n              \"color\": {\r\n                \"type\": \"flat\",\r\n                \"value\": \"#2362E4\"\r\n              },\r\n              \"condition\": {\r\n                \"enabled\": false,\r\n                \"operator\": \"OR\",\r\n                \"expressions\": [\r\n                  {\r\n                    \"operator\": \"AND\",\r\n                    \"expressions\": [\r\n                      [\r\n                        \"colorField\",\r\n                        \"eq\",\r\n                        \"100\"\r\n                      ]\r\n                    ]\r\n                  }\r\n                ]\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"advance\": {\r\n          \"code\": \"\"\r\n        }\r\n      }\r\n    }\r\n    // 组件初始化的数据\r\n    this.data = [\r\n      {\r\n        \"x\": \"1月\",\r\n        \"y\": 48,\r\n        \"s\": \"系列一\",\r\n        \"colorField\": 100\r\n      },\r\n      {\r\n        \"x\": \"2月\",\r\n        \"y\": 40,\r\n        \"s\": \"系列一\"\r\n      },\r\n      {\r\n        \"x\": \"3月\",\r\n        \"y\": 24,\r\n        \"s\": \"系列一\"\r\n      },\r\n      {\r\n        \"x\": \"4月\",\r\n        \"y\": 48,\r\n        \"s\": \"系列一\"\r\n      },\r\n      {\r\n        \"x\": \"5月\",\r\n        \"y\": 49,\r\n        \"s\": \"系列一\",\r\n        \"colorField\": 200\r\n      },\r\n      {\r\n        \"x\": \"6月\",\r\n        \"y\": 58,\r\n        \"s\": \"系列一\",\r\n        \"colorField\": 200\r\n      }\r\n    ];\r\n\r\n    this.type = 'echarts';\r\n\r\n  }\r\n\r\n\r\n\r\n\r\n  /**\r\n   * @desc 处理数据，在setData里调用\r\n   */\r\n  processData() {\r\n    // 获取组件数据\r\n    const { data } = this\r\n\r\n    // 图表系列\r\n    const seriesArr = Array.from(new Set(data.map(d => d.s)))\r\n    // 类目轴数据\r\n    const xData = Array.from(new Set(data.map(d => d.x)))\r\n    // 每个系列的数据，会被翻译成{value: xxx}\r\n    const yDataArr = []\r\n    seriesArr.forEach(seriesName => {\r\n      const row = data.filter(d => d.s === seriesName)\r\n      const rowDataArr = row.map(i => {\r\n        const dataStyle = this.processExpression(i)\r\n        if (dataStyle) {\r\n          return { value: i.y, itemStyle: dataStyle, rawData: i }\r\n        }\r\n        return { value: i.y, rawData: i }\r\n      })\r\n      yDataArr.push({ name: seriesName, data: rowDataArr })\r\n    })\r\n\r\n    return { seriesArr, xData, yDataArr }\r\n  }\r\n\r\n  setData(data) {\r\n    this.data = data\r\n\r\n    // 数据发生变化时触发dataChange事件，对外(大屏等外部调用者)进行通知\r\n    this.trigger('dataChange', data)\r\n\r\n    this.render()\r\n  }\r\n\r\n  /**\r\n   * @desc 处理条件构建器的列表\r\n   */\r\n  processExpression(data) {\r\n    // 获取图表的配置项数据\r\n    const { config } = this\r\n\r\n    // 获取图表的条件列表\r\n    const expressionList = config.menu && config.menu.expression && config.menu.expression.list\r\n\r\n    // 数据项样式，会根据条件计算结果进行赋值\r\n    let dataStyle = null\r\n\r\n    // 循环条件列表里的每一组条件，和该组数据进行对比，符合条件的将被设置itemStyle\r\n    if (expressionList) {\r\n      for (let i = 0; i < expressionList.length; i++) {\r\n        const item = expressionList[i]\r\n        const bool = runExpression(item.condition, data)\r\n\r\n        const colorBar = {\r\n          flat: item.color.value,\r\n          linearGradient: transfromColorOfEcharts(item.color)\r\n        }\r\n        if (bool) {\r\n          dataStyle = {\r\n            color: colorBar[item.color.type]\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    return dataStyle\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  /**\r\n   * @desc 处理系列数据，并生成每个series的数据，包含样式\r\n   */\r\n  processSeries(d) {\r\n    // 获取属性面板配置初始化数据\r\n    const { config } = this\r\n\r\n    // 获取图表配置数据\r\n    const chartConfig = config.menu && config.menu.chart && config.menu.chart.barCfg\r\n\r\n    // 柱子宽度\r\n    const barWidth = chartConfig && chartConfig.barWidth\r\n    // 柱子间距\r\n    const barGap = chartConfig && chartConfig.barGap\r\n\r\n    // 柱子圆角\r\n    const barRadiusCfg = chartConfig.barRadius\r\n\r\n    // 处理柱子圆角\r\n    let borderRadius = null\r\n    if (barRadiusCfg.radiusType === 'all') {\r\n      borderRadius = barRadiusCfg.allRadius\r\n    }\r\n    if (barRadiusCfg.radiusType === 'alone') {\r\n      borderRadius = [barRadiusCfg.ltRadius, barRadiusCfg.rtRadius, barRadiusCfg.rbRadius, barRadiusCfg.lbRadius]\r\n    }\r\n\r\n    // 处理柱子背景\r\n    let barBgColor = null\r\n    let showBackground = false\r\n    if (chartConfig.barBgColor.type === 'flat') {\r\n      barBgColor = chartConfig.barBgColor.value\r\n      if (barBgColor.length === 9 && barBgColor.substr(7) !== '00') {\r\n        showBackground = true\r\n      }\r\n      if (barBgColor.length <= 7) {\r\n        showBackground = true\r\n      }\r\n    } else {\r\n      barBgColor = transfromColorOfEcharts(chartConfig.barBgColor)\r\n      showBackground = true\r\n    }\r\n\r\n    // 处理柱子描边\r\n    let borderOpts = {}\r\n    let barStrokeCfg = chartConfig.barStroke\r\n    const borderColor = barStrokeCfg.color\r\n    const borderWidth = barStrokeCfg.width\r\n    const borderType = barStrokeCfg.style\r\n    if ((borderColor.length === 9 && borderColor.substr(7) !== '00') || borderColor.length <= 7) {\r\n      borderOpts = { borderColor, borderWidth, borderType }\r\n    }\r\n\r\n    // 处理柱子阴影\r\n    let barShadowCfg = chartConfig.barShadow\r\n    let barShadowOpts = {}\r\n    const shadowColor = barShadowCfg.color\r\n    const shadowBlur = barShadowCfg.blur\r\n    const shadowOffsetX = barShadowCfg.x\r\n    const shadowOffsetY = barShadowCfg.y\r\n    if ((shadowColor.length === 9 && shadowColor.substr(7) !== '00') || shadowColor.length <= 7) {\r\n      barShadowOpts = { shadowColor, shadowBlur, shadowOffsetX, shadowOffsetY }\r\n    }\r\n\r\n    // 处理数据标签的label\r\n    const label = getLabelConfig(config?.menu?.chart?.dataTips)\r\n\r\n    // 生成系列柱子\r\n    const series = []\r\n    const datas = d.yDataArr\r\n    datas.forEach(data => {\r\n      const item = {\r\n        name: data.name,\r\n        data: data.data,\r\n        type: 'bar',\r\n        barCategoryGap: ((100 - barWidth) + '%') || '20%',\r\n        barGap: (barGap + '%') || '20%',\r\n        showBackground: showBackground,\r\n        backgroundStyle: {\r\n          color: barBgColor,\r\n          borderRadius: borderRadius,\r\n          borderColor: '#2c2c2c',\r\n          borderWidth: 1\r\n        },\r\n        itemStyle: {\r\n          borderRadius: borderRadius,\r\n          ...borderOpts,\r\n          ...barShadowOpts\r\n        },\r\n        label,\r\n        z: 1\r\n      }\r\n      const glyphData = data.data.map(item => item.value)\r\n      const glyph = {\r\n        name: data.name,\r\n        data: glyphData,\r\n        type: 'pictorialBar',\r\n        symbol: 'circle',\r\n        symbolPosition: 'end',\r\n        symbolSize: parseInt(barWidth / 3),\r\n        color: '#fff',\r\n        z: 2,\r\n      }\r\n      series.push(item)\r\n      series.push(glyph)\r\n    })\r\n    return series\r\n  }\r\n\r\n  /**\r\n  * 组装echarts的option\r\n  * return 返回echarts的option\r\n  */\r\n  transformOptions() {\r\n    const { menu } = this.config\r\n\r\n    // 处理数据\r\n    const data = this.processData()\r\n\r\n    // 处理坐标轴\r\n    const { xAxis, yAxis } = getAxisConfig(menu?.axis, data)\r\n\r\n    // 图例\r\n    const legend = getLegendConfig(menu?.legend?.legend)\r\n\r\n    // 提示框\r\n    const tooltip = getTooltipConfig(menu?.tooltip)\r\n\r\n    let gridTop = 10\r\n    if (legend && legend.top === 'top') {\r\n      gridTop = 30\r\n    }\r\n    let gridBottom = 10\r\n    if (legend && legend.top === 'bottom') {\r\n      gridBottom = 20\r\n    }\r\n\r\n    // 处理系列数据\r\n    const series = this.processSeries(data)\r\n\r\n    const colors = this.theme.seriesColor.map(item => transfromColorsOfEcharts(item))\r\n\r\n    let opts = {\r\n      color: colors,\r\n      grid: {\r\n        containLabel: true,\r\n        left: '10',\r\n        top: gridTop,\r\n        right: '10',\r\n        bottom: gridBottom\r\n      },\r\n      tooltip: {\r\n        show: true,\r\n        ...tooltip\r\n      },\r\n      legend: legend,\r\n      xAxis: yAxis,\r\n      yAxis: xAxis,\r\n      series: series\r\n\r\n    }\r\n\r\n    // 处理自定义样式\r\n    const advance = menu?.advance?.code\r\n    if (advance) {\r\n      try {\r\n        // opts做一次cloneDeep是为了合并后污染源配置opts的值，造成属性面板回写污染\r\n        advance.title = null\r\n        opts = _.merge(_.cloneDeep(opts), advance)\r\n      }\r\n      catch (e) {\r\n      }\r\n    }\r\n\r\n    return opts\r\n  }\r\n\r\n  mounted() {\r\n    // echarts图表挂载后，为系列挂载点击事件，用于触发图表的click事件\r\n    const ecInstance = this.instance\r\n\r\n    ecInstance.on('click', 'series', (e) => {\r\n      this.trigger('click', e?.data?.rawData)\r\n    })\r\n  }\r\n};","config":"{\"fonts\":{},\"script\":{\"lodashminjs\":\"/lib/lodash.min.js\",\"echarts\":\"/lib/echarts.js\"},\"util\":[\"runExpression\",\"getTooltipConfig\",\"getLegendConfig\",\"getLabelConfig\",\"getAxisConfig\",\"transfromColorOfEcharts\",\"transfromColorsOfEcharts\"],\"img\":{},\"theme\":\"{\\n\\t\\\"name\\\": \\\"主题1\\\",\\n\\t\\\"seriesColor\\\": [\\n\\t\\t{\\n\\t\\t\\t\\\"type\\\": \\\"linearGradient\\\",\\n\\t\\t\\t\\\"value\\\": {\\n\\t\\t\\t\\t\\\"angle\\\": 90,\\n\\t\\t\\t\\t\\\"stops\\\": [\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t\\\"offset\\\": 0,\\n\\t\\t\\t\\t\\t\\t\\\"color\\\": \\\"#2362E44D\\\"\\n\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t\\\"offset\\\": 100,\\n\\t\\t\\t\\t\\t\\t\\\"color\\\": \\\"#2362E4\\\"\\n\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t\\\"offset\\\": 100,\\n\\t\\t\\t\\t\\t\\t\\\"color\\\": \\\"#2362E400\\\"\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t]\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\t{\\n\\t\\t\\t\\\"type\\\": \\\"linearGradient\\\",\\n\\t\\t\\t\\\"value\\\": {\\n\\t\\t\\t\\t\\\"angle\\\": 90,\\n\\t\\t\\t\\t\\\"stops\\\": [\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t\\\"offset\\\": 0,\\n\\t\\t\\t\\t\\t\\t\\\"color\\\": \\\"#2782E74D\\\"\\n\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t\\\"offset\\\": 100,\\n\\t\\t\\t\\t\\t\\t\\\"color\\\": \\\"#2782E7\\\"\\n\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t\\\"offset\\\": 100,\\n\\t\\t\\t\\t\\t\\t\\\"color\\\": \\\"#2782E700\\\"\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t]\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\t{\\n\\t\\t\\t\\\"type\\\": \\\"linearGradient\\\",\\n\\t\\t\\t\\\"value\\\": {\\n\\t\\t\\t\\t\\\"angle\\\": 90,\\n\\t\\t\\t\\t\\\"stops\\\": [\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t\\\"offset\\\": 0,\\n\\t\\t\\t\\t\\t\\t\\\"color\\\": \\\"#2AA1EB4D\\\"\\n\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t\\\"offset\\\": 99,\\n\\t\\t\\t\\t\\t\\t\\\"color\\\": \\\"#2AA1EB\\\"\\n\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t\\\"offset\\\": 99,\\n\\t\\t\\t\\t\\t\\t\\\"color\\\": \\\"#2AA1EB00\\\"\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t]\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\t{\\n\\t\\t\\t\\\"type\\\": \\\"linearGradient\\\",\\n\\t\\t\\t\\\"value\\\": {\\n\\t\\t\\t\\t\\\"angle\\\": 90,\\n\\t\\t\\t\\t\\\"stops\\\": [\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t\\\"offset\\\": 0,\\n\\t\\t\\t\\t\\t\\t\\\"color\\\": \\\"#2DC0EE4D\\\"\\n\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t\\\"offset\\\": 100,\\n\\t\\t\\t\\t\\t\\t\\\"color\\\": \\\"#2DC0EE\\\"\\n\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t\\\"offset\\\": 100,\\n\\t\\t\\t\\t\\t\\t\\\"color\\\": \\\"#2DC0EE00\\\"\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t]\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\t{\\n\\t\\t\\t\\\"type\\\": \\\"linearGradient\\\",\\n\\t\\t\\t\\\"value\\\": {\\n\\t\\t\\t\\t\\\"angle\\\": 90,\\n\\t\\t\\t\\t\\\"stops\\\": [\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t\\\"offset\\\": 0,\\n\\t\\t\\t\\t\\t\\t\\\"color\\\": \\\"#31E0F24D\\\"\\n\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t\\\"offset\\\": 100,\\n\\t\\t\\t\\t\\t\\t\\\"color\\\": \\\"#31E0F2\\\"\\n\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t\\\"offset\\\": 100,\\n\\t\\t\\t\\t\\t\\t\\\"color\\\": \\\"#31E0F200\\\"\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t]\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\t{\\n\\t\\t\\t\\\"type\\\": \\\"linearGradient\\\",\\n\\t\\t\\t\\\"value\\\": {\\n\\t\\t\\t\\t\\\"angle\\\": 90,\\n\\t\\t\\t\\t\\\"stops\\\": [\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t\\\"offset\\\": 0,\\n\\t\\t\\t\\t\\t\\t\\\"color\\\": \\\"#34FFF54D\\\"\\n\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t\\\"offset\\\": 100,\\n\\t\\t\\t\\t\\t\\t\\\"color\\\": \\\"#34FFF5\\\"\\n\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t\\\"offset\\\": 100,\\n\\t\\t\\t\\t\\t\\t\\\"color\\\": \\\"#34FFF500\\\"\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t]\\n\\t\\t\\t}\\n\\t\\t}\\n\\t],\\n\\t\\\"backgroundColor\\\": {\\n\\t\\t\\\"show\\\": false,\\n\\t\\t\\\"type\\\": \\\"image\\\",\\n\\t\\t\\\"value\\\": {\\n\\t\\t\\t\\\"fillType\\\": \\\"auto\\\",\\n\\t\\t\\t\\\"url\\\": \\\"/s-static/img/9a46e68ae25740e4b61c133d3b537c35.png\\\"\\n\\t\\t}\\n\\t},\\n\\t\\\"color\\\": {\\n\\t\\t\\\"show\\\": true,\\n\\t\\t\\\"value\\\": \\\"#FFFFFF\\\"\\n\\t},\\n\\t\\\"minorColor\\\": {\\n\\t\\t\\\"show\\\": true,\\n\\t\\t\\\"value\\\": \\\"#FFFFFF\\\"\\n\\t},\\n\\t\\\"gridColor\\\": {\\n\\t\\t\\\"show\\\": true,\\n\\t\\t\\\"value\\\": \\\"#FFFFFF\\\"\\n\\t}\\n}\",\"css\":{},\"width\":400,\"height\":250,\"material\":[\"img/9a46e68ae25740e4b61c133d3b537c35.png\"]}","createTime":1667902144829,"id":"21dfa0b2d1484af08811df030d86bc42","languageType":"jsx","modifyTime":1670510272598,"name":"带端点渐变条形图","options":"{\r\n  \"actions\": [\r\n    {\r\n      \"label\": \"点击\",\r\n      \"identified\": \"click\"\r\n    },\r\n    {\r\n      \"label\": \"当数据发生变化时\",\r\n      \"identified\": \"dataChange\"\r\n    }\r\n  ],\r\n  \"fields\": [\r\n    {\r\n      \"name\": \"x\",\r\n      \"desc\": \"x轴(类目)数据\"\r\n    },\r\n    {\r\n      \"name\": \"y\",\r\n      \"desc\": \"y轴(数值)数据\"\r\n    },\r\n    {\r\n      \"name\": \"s\",\r\n      \"desc\": \"系列名称\"\r\n    },\r\n    {\r\n      \"name\": \"colorFields\",\r\n      \"desc\": \"颜色字段\"\r\n    }\r\n  ],\r\n  \"propertyPanel\": {\r\n    \"menu\": {\r\n      \"type\": \"menu\",\r\n      \"children\": {\r\n        \"chart\": {\r\n          \"name\": \"图表\",\r\n          \"mode\": \"single\",\r\n          \"children\": {\r\n            \"barCfg\": {\r\n              \"name\": \"图表设置\",\r\n              \"type\": \"group\",\r\n              \"fold\": false,\r\n              \"children\": {\r\n                \"barWidth\": {\r\n                  \"name\": \"宽度\",\r\n                  \"type\": \"slider\",\r\n                  \"showInput\": true,\r\n                  \"min\": 1,\r\n                  \"max\": 100,\r\n                  \"step\": 1,\r\n                  \"default\": 30\r\n                },\r\n                \"barGap\": {\r\n                  \"name\": \"间距\",\r\n                  \"description\": \"不同系列的柱间距离\",\r\n                  \"type\": \"slider\",\r\n                  \"showInput\": true,\r\n                  \"min\": 0,\r\n                  \"max\": 100,\r\n                  \"step\": 1,\r\n                  \"default\": 30\r\n                },\r\n                \"barRadius\": {\r\n                  \"name\": \"圆角\",\r\n                  \"type\": \"suite\",\r\n                  \"children\": {\r\n                    \"radiusType\": {\r\n                      \"name\": \"\",\r\n                      \"type\": \"radio\",\r\n                      \"options\": [\r\n                        {\r\n                          \"label\": \"全圆角\",\r\n                          \"value\": \"all\"\r\n                        },\r\n                        {\r\n                          \"label\": \"独立圆角\",\r\n                          \"value\": \"alone\"\r\n                        }\r\n                      ],\r\n                      \"default\": \"all\"\r\n                    },\r\n                    \"allRadius\": {\r\n                      \"type\": \"number\",\r\n                      \"name\": \"\",\r\n                      \"step\": 1,\r\n                      \"min\": 0,\r\n                      \"default\": 50,\r\n                      \"col\": 12,\r\n                      \"showInPanel\": {\r\n                        \"conditions\": [\r\n                          [\r\n                            \".radiusType\",\r\n                            \"$eq\",\r\n                            \"all\"\r\n                          ]\r\n                        ]\r\n                      }\r\n                    },\r\n                    \"ltRadius\": {\r\n                      \"type\": \"number\",\r\n                      \"name\": \"左上\",\r\n                      \"step\": 1,\r\n                      \"min\": 0,\r\n                      \"default\": 0,\r\n                      \"col\": 6,\r\n                      \"showInPanel\": {\r\n                        \"conditions\": [\r\n                          [\r\n                            \".radiusType\",\r\n                            \"$eq\",\r\n                            \"alone\"\r\n                          ]\r\n                        ]\r\n                      }\r\n                    },\r\n                    \"rtRadius\": {\r\n                      \"type\": \"number\",\r\n                      \"name\": \"右上\",\r\n                      \"step\": 1,\r\n                      \"min\": 0,\r\n                      \"default\": 0,\r\n                      \"col\": 6,\r\n                      \"showInPanel\": {\r\n                        \"conditions\": [\r\n                          [\r\n                            \".radiusType\",\r\n                            \"$eq\",\r\n                            \"alone\"\r\n                          ]\r\n                        ]\r\n                      }\r\n                    },\r\n                    \"rbRadius\": {\r\n                      \"type\": \"number\",\r\n                      \"name\": \"右下\",\r\n                      \"step\": 1,\r\n                      \"min\": 0,\r\n                      \"default\": 0,\r\n                      \"col\": 6,\r\n                      \"showInPanel\": {\r\n                        \"conditions\": [\r\n                          [\r\n                            \".radiusType\",\r\n                            \"$eq\",\r\n                            \"alone\"\r\n                          ]\r\n                        ]\r\n                      }\r\n                    },\r\n                    \"lbRadius\": {\r\n                      \"type\": \"number\",\r\n                      \"name\": \"左下\",\r\n                      \"step\": 1,\r\n                      \"min\": 0,\r\n                      \"default\": 0,\r\n                      \"col\": 6,\r\n                      \"showInPanel\": {\r\n                        \"conditions\": [\r\n                          [\r\n                            \".radiusType\",\r\n                            \"$eq\",\r\n                            \"alone\"\r\n                          ]\r\n                        ]\r\n                      }\r\n                    }\r\n                  }\r\n                },\r\n                \"barBgColor\": {\r\n                  \"name\": \"背景\",\r\n                  \"description\": \"柱子类目背景\",\r\n                  \"type\": \"color\",\r\n                  \"components\": [\r\n                    \"flat\",\r\n                    \"linearGradient\"\r\n                  ],\r\n                  \"default\": {\r\n                    \"type\": \"flat\",\r\n                    \"value\": \"#FFFFFF0F\"\r\n                  }\r\n                },\r\n                \"barStroke\": {\r\n                  \"type\": \"stroke\",\r\n                  \"name\": \"描边\",\r\n                  \"default\": {\r\n                    \"color\": \"#0b71e600\",\r\n                    \"width\": 0,\r\n                    \"style\": \"solid\"\r\n                  }\r\n                },\r\n                \"barShadow\": {\r\n                  \"type\": \"shadow\",\r\n                  \"name\": \"阴影\",\r\n                  \"default\": {\r\n                    \"color\": \"#0b71e600\",\r\n                    \"x\": 0,\r\n                    \"y\": 0,\r\n                    \"blur\": 0\r\n                  }\r\n                }\r\n              }\r\n            },\r\n            \"dataTips\": {\r\n              \"name\": \"显示数据\",\r\n              \"type\": \"group\",\r\n              \"enableHide\": true,\r\n              \"fold\": false,\r\n              \"children\": {\r\n                \"show\": {\r\n                  \"default\": false\r\n                },\r\n                \"font\": {\r\n                  \"name\": \"文本样式\",\r\n                  \"type\": \"font\",\r\n                  \"default\": {\r\n                    \"fontFamily\": \"simSun\",\r\n                    \"fontWeight\": 400,\r\n                    \"color\": \"#FFFFFFB3\",\r\n                    \"fontSize\": 12\r\n                  }\r\n                },\r\n                \"site\": {\r\n                  \"type\": \"select\",\r\n                  \"name\": \"对齐\",\r\n                  \"options\": [\r\n                    {\r\n                      \"label\": \"top\",\r\n                      \"value\": \"top\"\r\n                    },\r\n                    {\r\n                      \"label\": \"left\",\r\n                      \"value\": \"left\"\r\n                    },\r\n                    {\r\n                      \"label\": \"right\",\r\n                      \"value\": \"right\"\r\n                    },\r\n                    {\r\n                      \"label\": \"bottom\",\r\n                      \"value\": \"bottom\"\r\n                    },\r\n                    {\r\n                      \"label\": \"inside\",\r\n                      \"value\": \"inside\"\r\n                    },\r\n                    {\r\n                      \"label\": \"insideLeft\",\r\n                      \"value\": \"insideLeft\"\r\n                    },\r\n                    {\r\n                      \"label\": \"insideRight\",\r\n                      \"value\": \"insideRight\"\r\n                    },\r\n                    {\r\n                      \"label\": \"insideTop\",\r\n                      \"value\": \"insideTop\"\r\n                    },\r\n                    {\r\n                      \"label\": \"insideBottom\",\r\n                      \"value\": \"insideBottom\"\r\n                    },\r\n                    {\r\n                      \"label\": \"insideTopLeft\",\r\n                      \"value\": \"insideTopLeft\"\r\n                    },\r\n                    {\r\n                      \"label\": \"insideBottomLeft\",\r\n                      \"value\": \"insideBottomLeft\"\r\n                    },\r\n                    {\r\n                      \"label\": \"insideTopRight\",\r\n                      \"value\": \"insideTopRight\"\r\n                    },\r\n                    {\r\n                      \"label\": \"insideBottomRight\",\r\n                      \"value\": \"insideBottomRight\"\r\n                    }\r\n                  ],\r\n                  \"default\": \"top\"\r\n                }\r\n              }\r\n            }\r\n          }\r\n        },\r\n        \"title\": {\r\n          \"name\": \"标题\",\r\n          \"type\": \"title\"\r\n        },\r\n        \"legend\": {\r\n          \"name\": \"图例\",\r\n          \"type\": \"legend\"\r\n        },\r\n        \"axis\": {\r\n          \"name\": \"坐标轴\",\r\n          \"type\": \"axis\"\r\n        },\r\n        \"tooltip\": {\r\n          \"name\": \"提示框\",\r\n          \"type\": \"tooltip\"\r\n        },\r\n        \"expression\": {\r\n          \"name\": \"条件\",\r\n          \"mode\": \"single\",\r\n          \"children\": {\r\n            \"list\": {\r\n              \"name\": \"条件列表\",\r\n              \"type\": \"tabs\",\r\n              \"fold\": false,\r\n              \"template\": {\r\n                \"name\": \"条件<%= i + 1 %>\",\r\n                \"type\": \"object\",\r\n                \"children\": {\r\n                  \"condition\": {\r\n                    \"name\": \"启用\",\r\n                    \"type\": \"logicalTree\",\r\n                    \"default\": {\r\n                      \"enabled\": true,\r\n                      \"operator\": \"OR\",\r\n                      \"expressions\": [\r\n                        {\r\n                          \"operator\": \"AND\",\r\n                          \"expressions\": [\r\n                            [\r\n                              \"colorField\",\r\n                              \"eq\",\r\n                              \"100\"\r\n                            ]\r\n                          ]\r\n                        }\r\n                      ]\r\n                    }\r\n                  },\r\n                  \"color\": {\r\n                    \"name\": \"柱子颜色\",\r\n                    \"type\": \"color\",\r\n                    \"components\": [\r\n                      \"flat\",\r\n                      \"linearGradient\"\r\n                    ],\r\n                    \"default\": {\r\n                      \"type\": \"flat\",\r\n                      \"value\": \"#2362E4\"\r\n                    }\r\n                  }\r\n                }\r\n              },\r\n              \"default\": [\r\n                {\r\n                  \"color\": {\r\n                    \"type\": \"flat\",\r\n                    \"value\": \"#2362E4\"\r\n                  },\r\n                  \"condition\": {\r\n                    \"enabled\": false,\r\n                    \"operator\": \"OR\",\r\n                    \"expressions\": [\r\n                      {\r\n                        \"operator\": \"AND\",\r\n                        \"expressions\": [\r\n                          [\r\n                            \"colorField\",\r\n                            \"eq\",\r\n                            \"100\"\r\n                          ]\r\n                        ]\r\n                      }\r\n                    ]\r\n                  }\r\n                }\r\n              ]\r\n            }\r\n          }\r\n        },\r\n        \"advance\": {\r\n          \"name\": \"自定义\",\r\n          \"mode\": \"single\",\r\n          \"children\": {\r\n            \"code\": {\r\n              \"name\": \"自定义\",\r\n              \"description\": \"直接写echarts option,书写规范：{\\\"key\\\": value}(echarts title不生效),自定义option优先级大于属性面板配置\",\r\n              \"type\": \"code\",\r\n              \"language\": \"json\",\r\n              \"default\": \"\"\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}","owner":"aBxyD0x8VbiUn1IbE0PAHjnVbdct8PFh","ownerName":"yutangli","reviser":"UkBefjS33kwNP1gqqw8GOehyulVks23B","sType":2,"sid":"de7d6d99592340a09c24fff0ad73d3f3","snapshot":"/s-static/snapshot/de7d6d99592340a09c24fff0ad73d3f3_0.0.png","status":0,"style":"","tag":"模板","transparentSnapshot":"/s-static/transparent-snapshot/de7d6d99592340a09c24fff0ad73d3f3_transparent_0.0.png","type":"BarHori","version":1.0,"wiki":"https://support.thingjs.com/book/ChartBuilder/63438cec7527094a2a973465"}