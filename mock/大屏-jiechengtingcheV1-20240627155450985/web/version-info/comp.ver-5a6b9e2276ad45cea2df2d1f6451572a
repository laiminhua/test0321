{"category":"control","code":"import Ib7bc9ecc4c3e4e38a0b81872896484ab from 'img/9fd8f25da78c4461806ed1ab93ae7454.png'//组件_图片.png\r\n\r\n/**\r\n * 该组件必须返回一个构造函数对象（此处代码无效）\r\n */\r\nreturn class item extends Base {\r\n  constructor(dom, config) {\r\n    super(dom, config);\r\n    // 组件的配置参数\r\n    this.opts = {\r\n      \"image\": \"\",\r\n      \"config\": {\r\n        \"repeat\": \"contain\",\r\n        \"radius\": 0,\r\n        \"opacity\": 100\r\n      }\r\n    }\r\n    // 组件初始化的数据\r\n    this.data = null;\r\n    this.useResizeScale = false;\r\n  }\r\n\r\n  init(opts) {\r\n    this.opts = { ...this.opts, ...opts }\r\n    this.render()\r\n  }\r\n\r\n  /**\r\n   * 渲染组件\r\n   * @param {*} data 组件数据\r\n   * @param {*} opts 组件配置参数\r\n   * return 返回html字符串\r\n   */\r\n  render(h, data, opts) {\r\n    const backgroundSize = {\r\n      \"no-repeat\": \"100% 100%\",\r\n      \"contain\": \"contain\",\r\n      \"auto\": \"auto\"\r\n    }\r\n\r\n    const getStyle = () => {\r\n      return opts.image ? {\r\n        \"border-radius\": `${opts.config.radius}px`,\r\n        \"background-repeat\": 'no-repeat',\r\n        \"background-position\": 'center',\r\n        \"background-image\": `url(${opts.image})`,\r\n        \"background-size\": backgroundSize[opts.config.repeat],\r\n        \"opacity\": opts.config.opacity / 100\r\n      }\r\n        : {\r\n          \"background-repeat\": 'no-repeat',\r\n          \"background-image\": `url(${Ib7bc9ecc4c3e4e38a0b81872896484ab})`,\r\n          \"background-position\": 'center'\r\n        }\r\n    }\r\n\r\n    return <div class=\"bgContainer\" style={{ ...getStyle() }} onclick={this.clickEventHandler.bind(this)}  ></div>;\r\n  }\r\n\r\n  clickEventHandler(e) {\r\n    this.trigger('click')\r\n  }\r\n\r\n  setData(data = {}) {\r\n    this.data = data\r\n\r\n    // 数据发生变化时触发dataChange事件，对外(大屏等外部调用者)进行通知\r\n    this.trigger('dataChange', data)\r\n\r\n    this.render()\r\n  }\r\n};\r\n","config":"{\"fonts\":{},\"script\":{},\"util\":[],\"img\":{\"b7bc9ecc4c3e4e38a0b81872896484ab\":\"/img/9fd8f25da78c4461806ed1ab93ae7454.png\"},\"theme\":null,\"css\":{},\"width\":400,\"height\":250}","createTime":1670462840671,"id":"5a6b9e2276ad45cea2df2d1f6451572a","languageType":"jsx","modifyTime":1670510599780,"name":"图片","options":"{\r\n  \"actions\": [\r\n    {\r\n      \"label\": \"点击\",\r\n      \"identified\": \"click\"\r\n    }\r\n  ],\r\n  \"blueprint\": {\r\n    \"name\": \"comp.name\",\r\n    \"group\": \"UI\",\r\n    \"inputs\": [\r\n      {\r\n        \"name\": \"显示\",\r\n        \"type\": \"exec\"\r\n      },\r\n      {\r\n        \"name\": \"隐藏\",\r\n        \"type\": \"exec\"\r\n      },\r\n      {\r\n        \"name\": \"数据\",\r\n        \"type\": \"any\"\r\n      }\r\n    ],\r\n    \"outputs\": []\r\n  },\r\n  \"propertyPanel\": {\r\n    \"image\": {\r\n      \"name\": \"图片\",\r\n      \"type\": \"media\",\r\n      \"mode\": \"image\",\r\n      \"description\": \"点击更改按钮可打开资源管理器上传/选择图片\",\r\n      \"default\": \"\"\r\n    },\r\n    \"config\": {\r\n      \"name\": \"图片设置\",\r\n      \"type\": \"suite\",\r\n      \"children\": {\r\n        \"repeat\": {\r\n          \"name\": \"展示方式\",\r\n          \"type\": \"select\",\r\n          \"options\": [\r\n            {\r\n              \"label\": \"拉伸\",\r\n              \"value\": \"no-repeat\"\r\n            },\r\n            {\r\n              \"label\": \"自适应\",\r\n              \"value\": \"contain\"\r\n            },\r\n            {\r\n              \"label\": \"实际大小\",\r\n              \"value\": \"auto\"\r\n            }\r\n          ],\r\n          \"default\": \"no-repeat\",\r\n          \"col\": 24\r\n        },\r\n        \"radius\": {\r\n          \"type\": \"number\",\r\n          \"name\": \"圆角\",\r\n          \"default\": 0,\r\n          \"col\": 12\r\n        },\r\n        \"opacity\": {\r\n          \"type\": \"number\",\r\n          \"name\": \"透明度\",\r\n          \"default\": 100,\r\n          \"col\": 12\r\n        }\r\n      }\r\n    }\r\n  }\r\n}","owner":"UkBefjS33kwNP1gqqw8GOehyulVks23B","ownerName":"wangjun","reviser":"UkBefjS33kwNP1gqqw8GOehyulVks23B","sType":2,"serial":5,"sid":"d5140df43f044723924ccf2cfd6c0a28","snapshot":"/s-static/snapshot/d5140df43f044723924ccf2cfd6c0a28_1.0.jpg","status":0,"style":".bgContainer {\r\n  width: 100%;\r\n  height: 100%;\r\n}","tag":"模板,system","type":"navigation","version":7.0,"wiki":"https://support.thingjs.com/book/ChartBuilder/6384a09a61434629f438bad5"}